# go-t-digest

A Go project to benchmark the performance of TDigest compression settings. The test suite runs various TDigest instantiations with different compression factors, measuring memory allocations and execution time, and outputs an HTML report.

## Overview

- **Benchmarking TDigest:** The project runs tests that add 1,000,000 random values to a TDigest instance with varying compression settings.
- **HTML Report:** The generated `report.html` contains a table with compression, total memory allocated (MB), peak memory allocated (MB), and execution time (ms).

## Project Structure

- `t_digest_test.go`: Contains the test code that performs the data aggregation and generates the HTML report.
- `report.html`: An example HTML report generated by the test run.
  
## Dependencies

- [github.com/influxdata/tdigest](https://github.com/influxdata/tdigest): For TDigest data structure.

## How to Run

1. Ensure you have [Go installed](https://golang.org/dl/).
2. Install the required dependency:
   ```bash
   go get github.com/influxdata/tdigest
   ```
3. Run the tests to generate the HTML report:
   ```bash
   go test -v
   ```
4. Open the generated `report.html` file in your browser to view the report.

## Test Results

| Compression | Total Memory Allocated (MB) | Peak Memory Allocated (MB) | Execution Time (ms) |
|-------------|-----------------------------|----------------------------|---------------------|
| 100         | 0.04375457763671875         | 0.04375457763671875        | 111                 |
| 200         | 0.0885009765625             | 0.0885009765625            | 119                 |
| 300         | 0.1375732421875             | 0.1375732421875            | 123                 |
| 400         | 0.184326171875              | 0.184326171875             | 117                 |
| 500         | 0.2244873046875             | 0.2244873046875            | 132                 |
| 600         | 0.2857666015625             | 0.2857666015625            | 135                 |
| 700         | 0.328369140625              | 0.328369140625             | 132                 |
| 800         | 0.36865234375               | 0.36865234375              | 134                 |
| 900         | 0.4493408203125             | 0.4493408203125            | 137                 |
| 1000        | 0.5323486328125             | 0.5323486328125            | 135                 |

